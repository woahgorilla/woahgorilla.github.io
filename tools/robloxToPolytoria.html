<!DOCTYPE html>
<html>
    <head>
        <title>Roblox to Polytoria</title>
        <link rel="icon" type="images/x-icon" href="https://woahgorilla.github.io/favicon.ico">
        <meta name="keywords" content="polytoria, roblox, converter, polytoria to roblox, shirt, pants, polytoria clothes converter">
        <meta property="og:title" content="Free Roblox to Polytoria clothes converter">
        <meta property="og:site_name" content="Roblox to Polytoria clothes converter">
        <meta property="og:description" content="Convert Roblox clothes to Polytoria free with no uploads!">
        <meta name="description" content="Convert Roblox clothes to Polytoria free with no uploads!">
        <meta name="author" content="Ultracat39">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            body {
                background-color: #2c3e50; 
                color: white; 
                font-family: sans-serif;
                margin: 0; 
                padding: 0; 
                display: flex; 
                flex-direction: column; 
                align-items: center; 
                justify-content: center;
                height: 100vh;
            }
            .hidden {
                display: none;
            }
            h1 {
                font-size: 3.36vw;
            }
            .box {
                text-align: center;
                padding: 0.7vw;
                margin-bottom: 0.7vw;
                border: 0.07vw solid #ecf0f1;
                border-radius: 0.35vw;
                font-size: 1.12vw;
                background-color: #34495e;
                color: white;
                width: 400px;
            }
            input[type=file]::file-selector-button {
                border: solid;  
                cursor: pointer; 
                font-size: 1.12vw; 
                color: white;
                background-color: rgb(0, 255, 13);
                border-color: rgb(0, 208, 10);
                transition-duration: 0.3s; 
                border-radius: 0px; 
                padding: 0.35vw 0.35vw; 
                text-align: center; 
                text-decoration: none; 
                display: inline-block; 
                font-size: 1.12vw; 
                border-radius: 1.4vw; 
            }
    
            input[type=file]::file-selector-button:hover {
                background-color: rgb(0, 208, 10);
                border-color: rgb(0, 165, 8);
            }
            input[type='file'] {
                padding: 0.7vw;
                padding-top: 0;
                margin-bottom: 0.7vw;
                font-size: 1.12vw;
                color: white;
                width: 17vw;
            }
            button {
                padding: 0.7vw 1.05vw;
                border: solid;
                border-radius: 0.35vw;
                cursor: pointer;
                font-size: 1.12vw;
                transition:  0.3s;
                color: #ffffff;
            }
            .reset {cursor: pointer; 
                background-color: #ff0000; 
                border: solid; 
                border-radius: 0.35vw; 
                border-color: #c70000;
            }
            .reset:hover {
                background-color: #d20404;
                border-color: #b50404;
            }
            .convert {
                background-color:#00ff17;
                border-color: #00c710;
            }
            .convert:hover {
                background-color:#00c710;
                border-color: #00a707;
            }
            .center {
                text-align: center;
                width: 56vw;
            }
        </style>
    </head>
    <body>
        <h1>Roblox to Polytoria</h1>
        <input type="file" id="fileInput" onchange="display()">
        <p><button onclick="reset()" class="reset">Reset</button> <button onclick="convert()" class="convert">Convert!</button></p>
        <canvas class="box" id="canvas1" height="585" width="559"></canvas>
        <canvas class="hidden" id="canvas2" height="1024" width="1024"></canvas>
        <a id="dummyDownloadLink" class="hidden"></a>
        <p class="center">Quickly convert roblox shirts and pants to use them for Polytoria.</p>
        <script>
            const canvas1 = document.getElementById('canvas1');
            const ctx1 = canvas1.getContext('2d');
            const canvas2 = document.getElementById('canvas2');
            const ctx2 = canvas2.getContext('2d');
            const fileInput = document.getElementById('fileInput');
            let image;
            function convert() {
                if (fileInput.value != '') {
                    //torso
                    ctx2.drawImage(image, 165, 74, 64, 128, 89, 184, 100, 200); //left torso side
                    ctx2.drawImage(image, 231, 8, 128, 64, 199, 74, 200, 100); //top of torso
                    ctx2.drawImage(image, 231, 74, 128, 128, 199, 184, 200, 200); //front of torso
                    ctx2.drawImage(image, 361, 74, 64, 128, 409, 184, 100, 200); //right torso side
                    ctx2.drawImage(image, 231, 204, 128, 64, 199, 394, 200, 100); //bottom of torso
                    ctx2.drawImage(image, 427, 74, 128, 128, 519, 184, 200, 200); //back of torso
                    //limbs
                    for (let i = 0; i < 4; i++) {
                        let g = 0;
                        if (i == 1) {
                            g = 2; //this might seem stupid, but it is because of a bug with polytoria.
                            ctx2.drawImage(image, 19+(i*66), 355, 2, 128, 52+(i*110), 667, 2, 200); //this line is in case they fix the bug.
                        }
                        ctx2.drawImage(image, 19+(i*66), 355, 64, 128, 52+(i*110 + g), 667, 100, 200); //all horizontal sides of right arm/leg
                    }
                    for (let i = 0; i < 4; i++) {
                        ctx2.drawImage(image, 308+(i*66), 355, 64, 128, 538+(i*110), 667, 100, 200); //all horizontal sides of left arm/leg
                    }
                    ctx2.drawImage(image, 217, 289, 64, 64, 382, 557, 100, 100); //top of right arm
                    ctx2.drawImage(image, 308, 289, 64, 64, 538, 557, 100, 100); //top of left arm
                    ctx2.drawImage(image, 217, 485, 64, 64, 382, 877, 100, 100); //top of right arm
                    ctx2.drawImage(image, 308, 485, 64, 64, 538, 877, 100, 100); //top of left arm
                    downloadCanvasAsImage();
                }
            }
            function display() {
                ctx1.clearRect(0, 0, canvas1.width, canvas1.height);
                window.createImageBitmap(fileInput.files[0]).then(function (img) {
                    ctx1.drawImage(img, 0, 0);
                    image = img;
                });
            } //165 74
            
            function downloadCanvasAsImage(){
                let canvasImage = canvas2.toDataURL('image/png');
                let a = document.getElementById('dummyDownloadLink');
                let xhr = new XMLHttpRequest();
                xhr.responseType = 'blob';
                xhr.onload = function () {
                    a.href = window.URL.createObjectURL(xhr.response);
                    a.download = 'result.png';
                    a.click();
                };
                xhr.open('GET', canvasImage);
                xhr.send();
            }
            function reset() {
                ctx1.clearRect(0,0,585,559);
                fileInput.value = null;
            }
        </script>
    </body>
</html>